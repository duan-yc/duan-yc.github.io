---
layout: post
title: "商业化广告"
subtitle: "商业化广告"
author: "DYC"
header-img: "img/post-bg-linux.jpg"
header-mask: 0.3
catalog: true
tags:
- go

---

## 商业化广告

[参考](https://www.woshipm.com/u/653349)

#### 商化广告角色

程序化生态广告以及数据流向大致都如下图所示

**DSP：Demand-Side Platform**，需求方平台，是广告主用来管理预算、精准投放广告的平台。

为广告主（或广告代理商）提供的技术平台，帮助他们通过程序化购买的方式，自动化地购买广告资源

**ADX：Ad Exchange**，广告交易平台，是广告资源交易的桥梁，连接了广告主的需求和媒体的供应。

是广告资源的交易市场，连接了广告需求方（DSP）和广告供应方（SSP, Supply-Side Platform）

**SSP：Supply-Side Platform**，**供应方平台**，是为媒体（网站、APP、视频平台等）提供的技术平台，帮助媒体将广告位以最优的价格进行售卖，实现广告流量的最大化变现，所以服务对象是媒体，而非广告主

这三者的关系可以理解为DSP是买家，ADX是市场，SSP是卖家，DSP买流量，SSP卖广告位

运营模式是SSP将广告位信息发送到ADX上，ADX会将该信息发送给多个DSP，各个DSP代表广告主进行竞价，最终出价最高的展示给用户

![](https://cdn.jsdelivr.net/gh/ddyycc123/imageloader@main/image-20241119112423030.png)

##### 流量方

通过广告进行流量变现，主流的方式以及变现方式包含下面三种

**1.流量托管变现**

流量方以**SDK/API**的方式对接市场上主流的联盟广告/SSP，将自身流量托管给第三方平台，依靠第三方平台进行流量变现

这种一般是处于初期的APP或者用户规模比较小的APP会采用这种方式，因为这种方式简洁边界，开发和运营维护成本比较低，可以即使产生利益，但不足在于ecmp价格，填充，广告质量等不可控

**2.自营广告平台变现**

优质媒体为了更好地掌控广告收入和质量，通常会自己搭建广告平台或者使用第三方提供的广告服务。

通过直接对接广告客户、代理商，以及广告平台（如DSP/ADX），即不需要SSP，来实现流量变现。这种方式的好处是收入和广告效果都能掌控在自己手里

缺点是需要花很多钱和时间来组建团队、维护运营、开发技术，过程繁琐，风险也不小。并且需要自己承担广告位管理、竞价优化和系统开发的工作，这对技术和运营能力要求较高

**3.搭建SSP扩充流量**

一些有优势品牌和流量的垂直类APP，会通过整合同行业的其他流量（与同行业的其他媒体或APP合作，建立广告联盟，将多个平台的流量汇总，统一出售给广告主。例如，旅游类APP可以联合酒店预订平台、攻略网站等，共同出售广告资源），扩大自己的流量规模，提升在垂直领域的影响力，从而吸引更多广告主投入预算。

当媒体想通过广告来赚钱时，为了让更多广告填满广告位（提升填充率）并赚到更多收益，广告位的尺寸设计需要尽量符合市场上常见的标准尺寸。这样广告主更容易投放，广告收益也能最大化。

##### 金主

通常是广告主（直客）和代理，一般广告投放的途径有以下几种：

1. 找代理公司

   广告主将产品的广告推广全权交给专业的广告代理公司，由代理公司负责营销策略、投放和效果优化

   适合**大品牌广告主**，如消费品、汽车、奢侈品等，因为这些广告主的目标是广泛提升品牌知名度，通常预算大，需要一整套服务

2. 找DSP公司

   广告主与DSP公司签订长期合作（“线下签框”），授权DSP平台代表自己完成广告投放，通过DSP进行精准投放，常用投放模式包括CPT（按时间计费）、PDB（程序化保量）、PD（优先购买）

   适合想借助程序化广告能力，但不具备自主管理广告需求的广告主，比如一些中型品牌广告主

3. 自行注册DSP账号

   广告主直接在DSP平台注册账号，自己操作广告投放系统，制定预算、选择目标人群，并参与实时竞价（RTB）

   适合注重投放效果、预算相对较小的**效果类广告主**，比如电商、APP推广等。

4. 搭建Trading Desk

   广告主自建一个**Trading Desk**（广告交易系统），直接对接多个DSP、ADX以及其他广告服务。Trading Desk类似于广告主的“广告投放总部”

   适合**大型广告主或广告集团**，预算大且对广告效果、成本控制要求非常高，比如国际性品牌、广告公司等

##### 中间商

**DSP**

服务对象主要是广告主，包括代理、直客，其职责是负责帮广告主完成营销活动推广，将广告主的每一笔预算都花在刀刃上，为广告主带去效果

DSP的交易方式主要包括 PDB、PD、PA、RTB

1. PDB

   保价保量广告，PDB 的广告位一般都是媒体最优质的流量，这种流量通常是供不应求的，广告主为了获得这些流量，一般都会提前跟DSP询量下单，一旦达成协议签订合同，那么DSP需要提前跟媒体锁定这部分资源，即该部分资源不可再售卖给其他客户

2. PD

   保价不保量广告，相对优质的流量，由于优先级低于PDB，所以这些资源的可售卖库存是不确定的，因此无法做到保量，广告主可以跟媒体以明确的价格购买这些不确定的相对优质流量，即保价不保量

3. PA

   私有交易，所谓私有交易就是说这个位置仅开放个别广告主竞价，只有满足准入条件的广告主才有资格购买PA模式的资源，既不保价也不保量，跟RTB的区别仅在“私有”

4. PTB

   实时竞价广告，当一次流量进来时，各DSP根据自身需求对流量进行竞价，ADX在收到各DSP出价后进行比价，价高者获胜，将获胜广告下发给前端展示

**ADX**

广告交易市场，通过比较价格完成广告交易，其商业模式主要是导量，聚合各家流量，售卖给不同的DSP，从中间获取差价。

ADX的出现主要是因为由于市场各家DSP，SSP接口契约复杂且数量居多，如果一家家对接，研发成本过大，所以有了ADX，兼容各方接口

#### 开屏广告

**特点**

- 库存量大：用户进去App时都会出发开屏广告逻辑，所以库存量=App的uv*人均打开次数
- 视觉冲击力强
- 无需可见性监测

**架构设计**

开屏广告的素材主要是图片和视频，由于视频size较大，目前主流App都采用图片素材实时加载，视频预缓存，但有不少App视频实时加载

#### App投放增长

##### MAPI

Marketing API是各大主流平台基于自家营销系统推出的open API，可以为广告开发者提供全面的技术及数据支持

对于广告主来说，在媒体或平台投放广告时，通常有下面两种常见的方式：

1. 广告平台侧开户投放

   广告主在广告平台（如百度推广、Google Ads等）上开设账户，并完成充值。平台提供完整的广告管理功能，包括广告创建、受众定向、预算设置、效果监控等

2. 对接ADX投放

   这种方式更适合大型广告主，即广告主**需自行搭建DSP**（需求方平台），通过技术接口对接广告平台的ADX（广告交易平台）。通过ADX，广告主可以直接接触平台的广告库存（流量），这样广告主可以自主选择流量资源，实现更精准的投放策略

   这种方式的**门槛**：主流平台通常对外开放ADX有限，因为这种模式广告主可以自由筛选流量，可能会对平台的收入造成影响，并且技术门槛较高

   **投放流程**：

   1. ADX向DSP发送可用的广告库存信息，比如某个用户正在浏览的某APP中的广告位
   2. DSP根据该用户的行为数据（例如近期浏览过的商品）和公司策略，决定是否投放广告，以及投放多少预算
   3. 如果决定投放，DSP会参与实时竞价，成功后广告即刻展示

但对于广告主来说，为了有更精细化广告投放，所以推出MAPI，用于自动化广告投放和数据管理

MAPI功能

1. **广告管理功能**

   **广告账户管理**、**广告计划和创意管理**、**动态内容和A/B测试**

2. **投放数据获取**

   **广告效果数据（曝光量、点击量等）**、**分维度数据分析（分设备、地区等）**、**实时数据监控**

3. **受众管理**

4. **预算和出价管理**

5. **事件跟踪与转化归因**

6. **自动化优化功能**

7. **整合与扩展功能**

##### RTA

实时广告API，流量方在进行广告检索阶段，通过RTA接口向广告主询问其广告是否参与竞价，流量方在接收到该信息后再进行广告检索召回

（广告检索召回：广告平台从海量广告库中筛选出与用户需求或特征相关的一组广告的过程，通过利用用户特征、广告特性和匹配算法，将海量广告缩减为一个较小的相关广告集合，为后续的排序和推荐提供基础）

在没有RTA之前，是通过MAPI来弥补广告平台定向能力的不足，即通过MAPI的数据回传，广告主将所需定向数据回传到DMP平台，流量方利用广告主上传的数据进行定向投放

使用RTA的原因：

1. 用户隐私，广告主不需要再将数据传给外部平台
2. MAPI回传数据这种方式实时性不高

**RTA广告流程**

广告平台在进行广告检索阶段，通过RTA接口向广告主询问其广告是否参与竞价，广告平台在接收到其信息后再进行广告检索召回

具体流程：

1. 广告平台的广告服务经过**广告检索，广告召回，广告粗排/精排**等过程，将广告下发到前端给用户

2. RTA可以**插入到上面过程中的某一环**，RTA插入的不同阶段也会影响广告筛选和出价的方式：

   - 插入检索阶段：广告平台进行广告召回和初步筛选，这个时候RTA的作用主要是过滤出可能适合该用户的广告，接着广告平台就会将信息推送给相关的广告主的RTA接口
   - 插入精排/粗排阶段：广告平台会对召回的广告进行排序和细化筛选，最终决定哪个广告会展示给用户，此时RTA发挥的作用更加精准，可以动态调整每个广告的出价和优先级

   例如：假设广告主是一家电商平台，希望优先投放高价值商品。RTA可以插入在精排阶段，通过广告主的实时评估，决定具体商品的排序和出价

3. RTA对**时效性**要求很高，因为广告展示窗口通常只要几十毫秒，如果广告主的响应超时，不同广告平台可能会采用不同的方式进行处理

4. RTA**控制维度**，按照不同粒度控制广告展示逻辑，比如给新产品设置较高的出价系数，折扣产品设置较低的出价系数

5. RTA**动态调整出价或出价系数**，例如广告主可以基于用户行为，历史转化率等估算当前流量的价值，并实时决定是否竞价及竞价金额

6. DPA广告：动态商品广告，可以返回商品ID，让广告主根据商品特性动态选择投放内容

7. 监测链接：部分广告平台支持在曝光点击监测时记录RTA_ID，这样广告主可以追踪哪些广告是通过RTA策略胜出的，从而评估不同RTA策略的效果

例子：

1. **用户行为触发广告请求**：用户打开电商平台，浏览手机页面。

2. **前端发起广告请求**：电商平台前端向广告平台请求广告。

3. **RTA参与逻辑**：

   广告平台检索到一批符合条件的广告，需要广告主的RTA接口来动态参与判断是否竞价及竞价金额

   1. 广告平台检索到与用户相关的广告并发送到广告主的RTA接口。

   2. 广告主的RTA接口基于自身的数据和算法，对流量进行价值评估，并决定是否参与竞价，以及参与竞价时的出价和内容，

      广告主基于用户浏览记录、商品库存、促销活动等，动态评估每个广告价值：

      - 手机：出价$2.5（高优先级）。
      - 手机配件：出价$0.5（低优先级）。

4. **返回结果**：RTA返回出价和商品ID。

5. **广告平台排序**：广告平台将广告主的结果与其他广告排序，最终决定展示内容。

6. **展示和监测**：广告展示后，监测链接记录RTA_ID，以便后续分析

**RTA接入**

对于广告平台而言，出于对数据安全和时效性的考虑，所以对RTA的接入一般会设置门槛，一般是KA用户

对于广告主而言，在搭建RTA平台时，需要关注接口超时的问题，并且如果广告主对接了各大平台的RTA时，每次对广告主进行RTA请求的话对广告主服务器的QPS的量很大，造成很大压力，为此也可以双方都进行不断的数据积累，来减少RTA的次数

搭建RTA时，应当关注如下几个指标：

1. 超时率
2. RTA有效返回占比：有效返回RTA结果的比例，如果该比例过低，代表RTA未给广告主带来较大的效果提升
3. RTA消耗占比：即通过RTA参与广告竞价的消耗（广告投放的支出和花费）在平台整体关稿消耗中的比例

**应用场景**

1. 用户增长

2. DPA

   DPA（动态商品广告）允许**广告主根据用户实时行为展示与用户兴趣相关的广告内容**。最常见的场景是电商平台，通过DPA广告，广告主可以展示用户在过去浏览过的商品，甚至基于用户实时行为纪念性个性化推荐

   在RTA中，**广告平台会通过实时接口返回广告素材**，其中就包括商品信息。这**使得广告主可以根据实时数据动态调整广告内容，精准地为每个用户展示最相关的商品**

   为了确保广告内容的个性化和高效性，广告主需要对每个用户进行精准的推荐，这里就涉及到两种不同的推荐方式：

   1. 实时推荐：广告主根据用户当前行为实时计算出最相关的广告素材进行展示，这需要时间，可能会导致超时和无法参与竞价
   2. 离线推荐：广告主推荐系统基于历史数据来生成商品推荐，这些数据通常通过批处理的方式处理，能在非实时的情况下进行深度分析

3. 频控：将用户看到广告的频次控制在一定范围内

4. 流量分层：不同活跃度用户的流量价值是不一样的，因此广告主一般对不同活跃度用户打上不同质量分，给出不同的价格

##### 归因模型

**归因逻辑**

1. 首次互动模型

   此模型强调第一次互动对用户带来的影响，不管后续再发生任何行为，将转化结果归因到能够建立连接的第一次互动渠道中，但可能存在用户行为周期过长，导致预测不准确等问题，因此适合新品牌在品牌建设或产品推广初期

2. 最终互动模型

   此模型强调最后一次互动为用户带来的影响，不管前面任何行为，将转化结果都归因到能够建立连接的最后一次互动渠道中，但可能存在误刷、盗刷，通过不断的模拟互动行为，将其他渠道的流量统一刷成自己的转化

3. 平均分配模型

   此模型强调的是用户在整个过程中所有互动行为都需要被记录并分析，将转化结果平均归因到每个环节

4. 时间衰减模型

   即平均分配模型的升级版，在考虑整个过程所有的行为的前提下，认为越接近转化时候的行为影响越大

5. 自定义模型

   在使用时需要针对不同的渠道设置比例

**归因方法的挑战**

- **跨设备归因：** 用户往往在多个设备（如手机、电脑、平板）上进行互动，如何准确地追踪和归因到最终的转化行为是一个难题。

- **用户隐私：** 随着隐私保护政策（如GDPR、iOS的App Tracking Transparency）的强化，获取精准的用户行为数据变得更加困难，这对归因分析带来了挑战。

- **多渠道互动：** 用户往往通过多个渠道（如社交媒体、搜索广告、推荐引擎等）与App产生互动。如何评估这些不同渠道的综合效果，是归因分析中的难点。

- **归因滞后：** 用户在转化前可能经历多个接触点，且不同的营销活动可能会有不同的影响周期。如何合理处理这些时间延迟是归因模型需要解决的问题

##### DPA

动态商品广告，广告平台根据用户在广告主侧的兴趣行为数据，并结合广告主提供的商品库信息动态地向用户展示最契合的商品内容，

这里的动态指的是

1. 动态内容

   基于用户的不同行为数据，向其推送契合的内容，即使是对于同一个人，如果其最近的网购发生变化，那么看到的内容也会随之变化

2. 动态落地页

   根据用户的兴趣偏好+商品库通过程序化生成动态落地页

3. 动态用户

   每天商品访客是动态受众，持续变化

**DPA投放流程**

1. 商品库

   广告主需将自身商品数据同步到广告平台的商品库中，在平台侧维护商品信息

   同步的方式有以下几种：

   1. 手动录入：适用于商品数量较少
   2. 文件上传：适用于商品数量一般
   3. 定时拉取：适用于商品数量较多

2. 行为数据同步

   用户在广告主端内会产生各种各样的行为数据，广告主可以根据这些行为数据计算出用户意图产品，接着通过DPA在广告平台的媒体上对这些用户投放意图商品，召回用户，促进转化

   同步的方式有以下几种：

   1. SDK：通过接入广告平台的SDK来自动采集用户行为数据，这样广告主只需要接入即可，工作量小，但全依赖于广告平台
   2. MAPI：广告主计算完用户意图商品通过对接广告平台的MAPI将用户数据回传给广告平台，工作量大
   3. RTA

3. 广告投放

   在商品数据和用户行为数据都有了之后，广告平台就可以通过关联商品数据和用户行为数据创建广告了

4. 广告下发展示

**SDPA**

单商品广告，DPA是动态商品广告，针对不同人投放不同的商品，SDPA是针对广告主的爆款单品找适合它的人，即找最适合的用户











